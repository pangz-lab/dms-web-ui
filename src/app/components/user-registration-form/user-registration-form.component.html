<mat-horizontal-stepper linear #stepper>
  <mat-step [stepControl]="addressFormGroup">
    <form [formGroup]="addressFormGroup" class="registration-form">
      <ng-template matStepLabel>Address</ng-template>
      <mat-form-field>
        <input matInput
          placeholder = "Email Address"
          formControlName = "email"
          required>
          <mat-error *ngIf="!isValidEmail()">
            {{errorMessage.email}}
          </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput
            placeholder="T-Address/Public Address"
            formControlName="publicAddress"
            required>
        <mat-error *ngIf="!isValidPublicAddress()">
          {{errorMessage.publicAddress}}
        </mat-error>
      </mat-form-field>
      <mat-checkbox formControlName="doneDeposit" (click)="doneDeposiToAccountToggle()">Deposited to Dudezmobi account</mat-checkbox>
      <div>
        <button mat-raised-button color="primary" (click)="goToNextStep()">Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="transactionDetailFormGroup" [optional]="!getDoneDeposit().value">
    <form [formGroup]="transactionDetailFormGroup" class="registration-form">
      <ng-template matStepLabel>Transaction</ng-template>
      <mat-form-field>
        <input matInput
            placeholder="Transaction ID"
            formControlName="transactionId">
        <mat-error *ngIf="!isValidTransactionId()">
          {{errorMessage.transactionId}}
        </mat-error>
      </mat-form-field>
      <div>
        <button mat-stroked-button matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" matStepperNext >Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secretWordsFormGroup">
    <form [formGroup]="secretWordsFormGroup" class="registration-form">
      <ng-template matStepLabel>Secret words</ng-template>
      <mat-form-field>
        <input matInput
            placeholder="Secret Word 1"
            formControlName="secretWord1"
            required>
        <mat-error *ngIf="!isValidSecretWord(1)">
          {{errorMessage.secretWords[1]}}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput
            placeholder="Secret Word 2"
            formControlName="secretWord2"
            required>
        <mat-error *ngIf="!isValidSecretWord(2)">
          {{errorMessage.secretWords[2]}}
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput
            placeholder="Secret Word 3"
            formControlName="secretWord3"
            required>
        <mat-error *ngIf="!isValidSecretWord(3)">
          {{errorMessage.secretWords[3]}}
        </mat-error>
      </mat-form-field>
      <div>
        <button mat-stroked-button matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <!-- <form [formGroup]="secretWordsFormGroup" class="registration-form"> -->
      <ng-template matStepLabel>Submit</ng-template>
      <p>{{addressFormGroup.get('email').value}}</p>
      <p>{{addressFormGroup.get('publicAddress').value}}</p>
      <p>{{transactionDetailFormGroup.get('transactionId').value}}</p>
      <p>{{secretWordsFormGroup.get('secretWord1').value}}</p>
      <p>{{secretWordsFormGroup.get('secretWord2').value}}</p>
      <p>{{secretWordsFormGroup.get('secretWord3').value}}</p>
      <div>
        <button mat-stroked-button matStepperPrevious>Back</button>
        <button mat-raised-button color="primary"
          (click)="onSubmit()">
          <!-- [disabled]="!addressFormGroup.valid && !secretWordsFormGroup.valid && (withDeposit && !transactionDetailFormGroup.valid)"> -->
          Submit
        </button>
      </div>
    <!-- </form> -->
  </mat-step>
</mat-horizontal-stepper>
